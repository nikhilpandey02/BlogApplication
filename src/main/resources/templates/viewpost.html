<!--&lt;!&ndash;<!Doctype>&ndash;&gt;-->
<!--&lt;!&ndash;<html xmlns:th="http://www.thymeleaf.org">&ndash;&gt;-->
<!--&lt;!&ndash;<head>&ndash;&gt;-->
<!--&lt;!&ndash;    <title>View Post</title>&ndash;&gt;-->
<!--&lt;!&ndash;    <style>&ndash;&gt;-->
<!--&lt;!&ndash;        *{&ndash;&gt;-->
<!--&lt;!&ndash;            margin: 0;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 0;&ndash;&gt;-->
<!--&lt;!&ndash;            box-sizing: border-box;&ndash;&gt;-->
<!--&lt;!&ndash;            font-family: Arial, sans-serif;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;        .container {&ndash;&gt;-->
<!--&lt;!&ndash;            display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;            flex-direction: column;&ndash;&gt;-->
<!--&lt;!&ndash;            gap: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            background-color: #f9f9f9;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        form {&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid black;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: 8px;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 15px;&ndash;&gt;-->
<!--&lt;!&ndash;            background-color: white;&ndash;&gt;-->
<!--&lt;!&ndash;            box-shadow: 0 2px 4px rgba(0,0,0,0.1);&ndash;&gt;-->
<!--&lt;!&ndash;            text-align: justify-all;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;    </style>&ndash;&gt;-->
<!--&lt;!&ndash;</head>&ndash;&gt;-->
<!--&lt;!&ndash;<body>&ndash;&gt;-->
<!--&lt;!&ndash;<h1> i am viewPost</h1>&ndash;&gt;-->
<!--&lt;!&ndash;<div class="container">&ndash;&gt;-->
<!--&lt;!&ndash;    <form class="box" th:action="@{/update-post/{postId}(postId=${post.postId})}" method="post">&ndash;&gt;-->

<!--&lt;!&ndash;        <h2 th:text="${post.title}"></h2>&ndash;&gt;-->
<!--&lt;!&ndash;        <h3 th:text="${post.excerpt}"></h3>&ndash;&gt;-->
<!--&lt;!&ndash;        <p th:text="${post.content}"></p>&ndash;&gt;-->
<!--&lt;!&ndash;        <p th:text="${post.author}"></p>&ndash;&gt;-->
<!--&lt;!&ndash;        <p>Author: <span th:text="${post.author}"></span></p>&ndash;&gt;-->
<!--&lt;!&ndash;        <div>&ndash;&gt;-->
<!--&lt;!&ndash;            Tags:&ndash;&gt;-->
<!--&lt;!&ndash;            <span th:each="tag : ${post.tags}" th:text="${tag.name}" style="margin-right: 5px;"></span>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--&lt;!&ndash;        <span><input type="submit" value="Edit Post"/></span>&ndash;&gt;-->
<!--&lt;!&ndash;    </form>&ndash;&gt;-->
<!--&lt;!&ndash;    <form th:action="@{/delete-post/{postId}(postId=${post.postId})}" method="post">&ndash;&gt;-->
<!--&lt;!&ndash;        <input type="submit" value="Delete Post" onclick="return confirm('Are you sure you want to delete this post?');"/>&ndash;&gt;-->
<!--&lt;!&ndash;    </form>&ndash;&gt;-->

<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--&lt;!&ndash;</body>&ndash;&gt;-->
<!--&lt;!&ndash;</html>&ndash;&gt;-->
<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <title>View Post</title>-->
<!--    <style>-->
<!--        * {-->
<!--            margin: 0;-->
<!--            padding: 0;-->
<!--            box-sizing: border-box;-->
<!--            font-family: Arial, sans-serif;-->
<!--        }-->
<!--        .container {-->
<!--            display: flex;-->
<!--            flex-direction: column;-->
<!--            gap: 20px;-->
<!--            padding: 20px;-->
<!--            background-color: #f9f9f9;-->
<!--        }-->
<!--        .top-buttons {-->
<!--            display: flex;-->
<!--            justify-content: flex-end;-->
<!--            gap: 10px;-->
<!--            margin-bottom: 10px;-->
<!--        }-->
<!--        form {-->
<!--            margin: 0;-->
<!--            border: none;-->
<!--            padding: 0;-->
<!--            background: none;-->
<!--        }-->
<!--        input[type="submit"] {-->
<!--            cursor: pointer;-->
<!--            border: 1px solid #333;-->
<!--            background-color: #fff;-->
<!--            padding: 5px 15px;-->
<!--            border-radius: 4px;-->
<!--            transition: background-color 0.2s ease;-->
<!--        }-->
<!--        input[type="submit"]:hover {-->
<!--            background-color: #333;-->
<!--            color: white;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<h1>View Post</h1>-->
<!--<div class="container">-->

<!--    <div class="top-buttons">-->
<!--        <form th:action="@{/update-post/{postId}(postId=${post.postId})}" method="post">-->
<!--            <input type="submit" value="Edit Post" />-->
<!--        </form>-->
<!--        <form th:action="@{/delete-post/{postId}(postId=${post.postId})}" method="post"-->
<!--              onsubmit="return confirm('Are you sure you want to delete this post?');">-->
<!--            <input type="submit" value="Delete Post" />-->
<!--        </form>-->
<!--    </div>-->

<!--    &lt;!&ndash; Post details &ndash;&gt;-->
<!--    <div class="box">-->
<!--    <h2 th:text="${post.title}">Post Title</h2>-->
<!--    <h3 th:text="${post.excerpt}">Post Excerpt</h3>-->
<!--    <p th:text="${post.content}">Post Content</p>-->
<!--    <p>Author: <span th:text="${post.author}">Author Name</span></p>-->
<!--    <div>-->
<!--        Tags:-->
<!--        <span th:each="tag : ${post.tags}" th:text="${tag.name}" style="margin-right: 5px;"></span>-->
<!--    </div>-->
<!--    </div>-->

<!--    <div class="comments"  >-->
<!--        <form th:action="@{/view-comment/{postId}(postId=${post.postId})}" method="get">-->
<!--            <input type="submit" value="view comments">-->
<!--        </form>-->
<!--        <form th:action="@{/add-comment/{postId}(postId=${post.postId})}" method="post">-->
<!--            <input type="text" placeholder="Add a comment..." th:rows="3" name="content">-->
<!--            <input type="submit" value="Add Comment">-->
<!--        </form>-->
<!--    </div>-->

<!--</div>-->
<!--</body>-->
<!--</html>-->
<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8" />-->
<!--    <title>View Post</title>-->
<!--    <link rel="stylesheet" th:href="@{/css/style.css}" />-->
<!--    <style>-->
<!--        /* You can move these to your external CSS if desired */-->
<!--        .container {-->
<!--            max-width: 800px;-->
<!--            margin: 30px auto;-->
<!--            padding: 20px;-->
<!--            background-color: #f9f9f9;-->
<!--            border-radius: 8px;-->
<!--            box-shadow: 0 2px 5px rgba(0,0,0,0.1);-->
<!--            font-family: Arial, sans-serif;-->
<!--            color: #333;-->
<!--        }-->
<!--        .top-buttons {-->
<!--            display: flex;-->
<!--            justify-content: flex-end;-->
<!--            gap: 10px;-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        form.button-form {-->
<!--            margin: 0;-->
<!--        }-->
<!--        input[type="submit"] {-->
<!--            cursor: pointer;-->
<!--            border: 1px solid #333;-->
<!--            background-color: #fff;-->
<!--            padding: 8px 20px;-->
<!--            border-radius: 4px;-->
<!--            font-weight: 600;-->
<!--            transition: background-color 0.2s ease;-->
<!--        }-->
<!--        input[type="submit"]:hover {-->
<!--            background-color: #333;-->
<!--            color: white;-->
<!--        }-->
<!--        .post-title {-->
<!--            font-size: 2rem;-->
<!--            margin-bottom: 10px;-->
<!--            font-weight: 700;-->
<!--            text-align: center;-->
<!--        }-->
<!--        .post-excerpt {-->
<!--            font-size: 1.2rem;-->
<!--            margin-bottom: 15px;-->
<!--            font-style: italic;-->
<!--            color: #555;-->
<!--            text-align: center;-->
<!--        }-->
<!--        .post-content {-->
<!--            font-size: 1rem;-->
<!--            margin-bottom: 15px;-->
<!--            line-height: 1.6;-->
<!--        }-->
<!--        .author {-->
<!--            font-weight: 600;-->
<!--            margin-bottom: 15px;-->
<!--        }-->
<!--        .tags {-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        .tag {-->
<!--            display: inline-block;-->
<!--            background-color: #e0ebff;-->
<!--            color: #3366cc;-->
<!--            padding: 5px 12px;-->
<!--            border-radius: 15px;-->
<!--            margin-right: 8px;-->
<!--            font-size: 0.85rem;-->
<!--        }-->
<!--        .comments {-->
<!--            margin-top: 30px;-->
<!--        }-->
<!--        .comments form {-->
<!--            margin-bottom: 15px;-->
<!--        }-->
<!--        .comments input[type="text"] {-->
<!--            padding: 8px;-->
<!--            width: 70%;-->
<!--            border: 1px solid #ccc;-->
<!--            border-radius: 4px;-->
<!--            font-size: 1rem;-->
<!--        }-->
<!--        .comments input[type="submit"] {-->
<!--            padding: 8px 16px;-->
<!--            background-color: #0077cc;-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            color: white;-->
<!--            font-weight: 600;-->
<!--            cursor: pointer;-->
<!--        }-->
<!--        .comments input[type="submit"]:hover {-->
<!--            background-color: #005fa3;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container">-->

<!--    <div class="top-buttons">-->
<!--        <form th:action="@{/update-post/{postId}(postId=${post.postId})}" method="post" class="button-form">-->
<!--            <input type="submit" value="Edit Post" />-->
<!--        </form>-->
<!--        <form th:action="@{/delete-post/{postId}(postId=${post.postId})}" method="post" class="button-form"-->
<!--              onsubmit="return confirm('Are you sure you want to delete this post?');">-->
<!--            <input type="submit" value="Delete Post" />-->
<!--        </form>-->
<!--    </div>-->

<!--    <h1 class="post-title" th:text="${post.title}">Post Title</h1>-->
<!--    <h2 class="post-excerpt" th:text="${post.excerpt}">Post Excerpt</h2>-->
<!--    <div class="post-content" th:text="${post.content}">Post Content</div>-->
<!--    <p class="author">Author: <span th:text="${post.author}">Author Name</span></p>-->
<!--    <div class="tags">-->
<!--        <span th:each="tag : ${post.tags}" th:text="${tag.name}" class="tag">Tag</span>-->
<!--    </div>-->

<!--    <div class="comments">-->
<!--        <form th:action="@{/view-comment/{postId}(postId=${post.postId})}" method="get">-->
<!--            <input type="submit" value="View Comments" />-->
<!--        </form>-->
<!--        <form th:action="@{/add-comment/{postId}(postId=${post.postId})}" method="post">-->
<!--            <input type="text" placeholder="Add a comment..." name="content" required />-->
<!--            <input type="submit" value="Add Comment" />-->
<!--        </form>-->
<!--    </div>-->

<!--</div>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>View Post</title>
    <link rel="stylesheet" th:href="@{/css/viewpoststyle.css}" />
</head>
<body>
<div class="container">

    <div class="top-buttons">
        <form th:action="@{/update-post/{postId}(postId=${post.postId})}" method="post" class="button-form">
            <input type="submit" value="Edit Post" />
        </form>
        <form th:action="@{/delete-post/{postId}(postId=${post.postId})}" method="post" class="button-form"
              onsubmit="return confirm('Are you sure you want to delete this post?');">
            <input type="submit" value="Delete Post" />
        </form>
    </div>

    <h1 class="post-title" th:text="${post.title}">Post Title</h1>

    <div class="post-meta-center">
        <span class="post-author" th:text="${post.author}"></span>
        <span class="published-date" th:text="${post.publishedDate}"></span>
    </div>

    <h2 class="post-excerpt" th:text="${post.excerpt}">Post Excerpt</h2>
    <div class="post-content" th:text="${post.content}">Post Content</div>

    <div class="tags">
        <span th:each="tag : ${post.tags}" th:text="${tag.name}" class="tag"></span>
    </div>


    <div class="comments">
        <h3>Comments</h3>
        <form th:action="@{/add-comment/{postId}(postId=${post.postId})}" method="post">
            <input type="text" placeholder="Add a comment..." name="content" required />
            <input type="submit" value="Add Comment" />
        </form>

        <div th:each="c : ${post.comments}" class="comment">
            <div class="comment-name" th:text="${c.name}">Commenter Name</div>

            <div th:if="${editCommentId == null or editCommentId != c.id}">
                <p th:text="${c.comment}">Comment text here</p>

                <form th:action="@{/view-post/{postId}(postId=${post.postId})}" method="get" style="display:inline;">
                    <input type="hidden" name="editCommentId" th:value="${c.id}" />
                    <button type="submit">Edit</button>
                </form>

                <form th:action="@{/delete-comment/{commentId}(commentId=${c.id})}" method="post" style="display:inline;">
                    <input type="hidden" name="postId" th:value="${post.postId}" />
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this comment?');">Delete</button>
                </form>
            </div>

            <div th:if="${editCommentId == c.id}">
                <form th:action="@{/process-edit-comment}" method="post">
                    <input type="hidden" name="id" th:value="${c.id}" />
                    <input type="hidden" name="postId" th:value="${post.postId}" />
                    <textarea name="comment" rows="3" th:text="${c.comment}"></textarea>
                    <button type="submit">Save</button>
                    <a th:href="@{/view-post/{postId}(postId=${post.postId})}" style="display: inline">Cancel</a>
                </form>
            </div>
        </div>
    </div>

</div>
</body>
</html>



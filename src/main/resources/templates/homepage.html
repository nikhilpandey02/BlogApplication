<!Doctype>
<html xmlns:th:="http://www.thymeleaf.org">
<head>
    <title>Home Page</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
            background-color: #f9f9f9;
        }

        .post-box {
            border: 1px solid black;
            border-radius: 8px;
            padding: 15px;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            aspect-ratio: 1 / 1;
            text-align: justify-all;
        }


    </style>
</head>
<body>
<h1>Welcome to the Home Page</h1>
<form style="text-align: right" th:action="@{/search}" method="get">
    <input type="text" placeholder="Search..." name="search" />
    <input type="submit" value="Search" />
</form>
<form method="get" th:action="@{/search}" style="text-align: right">
    <select name="filterBy">
        <option value="author">Author</option>
        <option value="date">Published Date</option>
        <option value="tag">Tag</option>
    </select>
    <select name="sortBy">
        <option value="desc">Newest First</option>
        <option value="asc">Oldest First</option>
    </select>
    <input type="submit" value="Apply" />
</form>

<div th:if="${posts}" class="container">
    <div th:each="post:${posts}" class="post-box" >

        <h2 th:text="${post.title}" style="text-align: center"> </h2>
        <h2 th:text="${post.excerpt}" style="text-align: left"></h2>
        <h4 th:text="${post.content}"></h4>
        <a th:href="@{'/view-post/'+${post.postId}}">Read More</a>
        <div>
            <span th:each="tag : ${post.tags}" th:text="${tag.name}"
                  style="margin-right: 8px;"></span>
        </div>

        <h5 th:text="${post.createdAt}"></h5>
    </div>

</div>
</body>
</html>